<!DOCTYPE html>
<html>

<head>
  <title>Rodger Roller</title>
  <style>
    body {
      background-color: black;
      color: #aaa;
    }
  </style>
  <link rel="stylesheet" href="/styles/global.css" />
  <script src="script.js"></script>
</head>

<body>
  <main>
    <h1>Rodger Roller</h1>
    <div class="cards1">
      <table>
        <tr>
          <td>Level:</td>
          <td>{{level}}</td>
        </tr>
        <tr>
          <td>BA Rank:</td>
          <td>{{badass_rank}}</td>
        </tr>
      </table>

      <table>
        <tr>
          <td>Health:</td>
          <td>{{health.current}}/{{health.max}}</td>
        </tr>
        <tr>
          <td>Regen:</td>
          <td>{{health.regen}}</td>
        </tr>
      </table>

      <table>
        <tr>
          <td>Shields:</td>
          <td>{{shields.current}}/{{shields.max}}</td>
        </tr>
        <tr>
          <td>Regen:</td>
          <td>{{shields.regen}}</td>
        </tr>
      </table>

      <table>
        <tr>
          <td>Gold:</td>
          <td>{{gold}}</td>
        </tr>
        <tr>
          <td>BA Tokens:</td>
          <td>{{badass_tokens}}</td>
        </tr>
      </table>
    </div>

    <h2>Checks</h2>
    <div class="cards1">
      <table>
        <tr>
          <td>Interact:</td>
          <td id="Interact_Checks"></td>
        </tr>
      </table>
      <table>
        <tr>
          <td>Talk:</td>
          <td id="Talk_Checks"></td>
        </tr>
      </table>
      <table>
        <tr>
          <td>Insight:</td>
          <td id="Insight_Checks"></td>
        </tr>
      </table>
      <table>
        <tr>
          <td>Sneak:</td>
          <td id="Sneak_Checks"></td>
        </tr>
      </table>
      <table>
        <tr>
          <td>Search:</td>
          <td id="Search_Checks"></td>
        </tr>
      </table>
      <table>
        <tr>
          <td>Traverse:</td>
          <td id="Traverse_Checks"></td>
        </tr>
      </table>
    </div>

    <h2>Range Attack</h2>
    <div class="cards1">
      <table>
        <tr>
          <td>Natural:</td>
          <td id="Roll_Natural">-</td>
        </tr>
        <tr>
          <td>Modifier:</td>
          <td id="Accuracy_Adjustment">-</td>
        </tr>
        <tr>
          <td>Total: </td>
          <td id="Roll_Total">-</td>
        </tr>
      </table>
      <table>
        <tr>
          <td>Number Of Hits: </td>
          <td id="Hits">-</td>
        </tr>
        <tr>
          <td>Number Of Crits: </td>
          <td id="Crits">-</td>
        </tr>
      </table>
      <table>
        <tr>
          <td>Hit Rolls:</td>
          <td id="Natural_Hit_Rolls">-</td>
        </tr>
        <tr>
          <td>Crit Rolls:</td>
          <td id="Natural_Crit_Rolls">-</td>
        </tr>
        <tr>
          <td>FavGun DMG:</td>
          <td id="Favored_Gun_Damage_Mod">-</td>
        </tr>
        <tr>
          <td>Bonuses:</td>
          <td id="Damage_Bonuses">-</td>
        </tr>
      </table>
      <table>
        <tr>
          <td>Total Damage: </td>
          <td id="Total_Damage">-</td>
        </tr>
      </table>
    </div>

    <h2>Guns!</h2>
    <div class="cards3">
      {% for gun in guns %}
      <table class="gun_details">
        {% set gunIndex = loop.index0 %}
        <tr>
          <td colspan="2">{{gun.guild}} Guild</td>
        </tr>
        <tr>
          <td><strong>{{gun.name}}</strong></td>
          <td>
            <button class="accuracy_roller" data-gun="{{gunIndex}}">Roll</button>
          </td>
        </tr>
        <tr>
          <td>Type:</td>
          <td id="Gun_Type_gun{{gunIndex}}">{{gun.type}}</td>
        </tr>
        <tr>
          <td>Favored:</td>
          <td id="Is_Favored_Gun_Type__gun{{gunIndex}}">{% if favored_gun_type.type == gun.type %}yes{% else %}no{%
            endif
            %}</td>
        </tr>
        <tr>
          <td>Range: </td>
          <td>{{gun.range}}</td>
        </tr>
        {% for die in gun.damage %}
        <tr>
          <td>Damage Die:</td>
          <td class="DamageDie__gun{{gunIndex}}">{{die}}</td>
        </tr>
        {% endfor %}
        {% for stat in gun.stats %}
        <tr>
          <td>{{stat.stat}}:</td>
          <td class="{{ stat.stat }}__gun{{ gunIndex }}">{{stat.value}}</td>
        </tr>
        {% endfor %}

        {% for toggle in gun.toggles %}
        <tr>
          <td>{{toggle.name}}</td>
          <td><input type="checkbox" class="{{toggle.stat}}__gun{{gunIndex}}_toggle" data-value="{{toggle.value}}"
              checked>
          </td>
        </tr>
        {% endfor %}

        {% for hit in gun.hits %}
        <tr>
          <td class="hits_count_gun{{gunIndex}}" data-min="{{hit.min_roll}}" data-value="{{hit.add}}">Add
            {{hit.add}} hit at:
          </td>
          <td>
            {{hit.min_roll}}
          </td>
        </tr>
        {% endfor %}

        {% for crit in gun.crits %}
        <tr>
          <td class="crits_count_gun{{gunIndex}}" data-min="{{crit.min_roll}}" data-value="{{crit.add}}">
            Add {{crit.add}} crit at:
          </td>
          <td>
            {{crit.min_roll}}
          </td>
        </tr>
        {% endfor %}
      </table>
      {% endfor %}
    </div>

    <h2>Base Stats</h2>
    <div class="cards2">
      <table>
        <tr>
          <td>Accuracy: </td>
          <td id="Accuracy_Base"></td>
        </tr>
        <tr>
          <td>Mod:</td>
          <td id="Accuracy_Mod"></td>
        </tr>
      </table>
      <table>
        <tr>
          <td>Damage: </td>
          <td id="Damage_Base"></td>
        </tr>
        <tr>
          <td>Mod:</td>
          <td id="Damage_Mod"></td>
        </tr>
      </table>
      <table>
        <tr>
          <td>Mastery: </td>
          <td id="Mastery_Base"></td>
        </tr>
        <tr>
          <td>Mod:</td>
          <td id="Mastery_Mod"></td>
        </tr>
      </table>
      <table>
        <tr>
          <td>Speed:</td>
          <td id="Speed_Base"></td>
        </tr>
        <tr>
          <td>Mod:</td>
          <td id="Speed_Mod"></td>
        </tr>
      </table>
    </div>

    <h2>Archetype: Deadeye</h2>
    <div class="cards2">
      {% for stat in archetype_stats %}
      <table>
        <tr>
          <td>{{stat.stat}}: </td>
          <td class="{{stat.stat}}">{{stat.value}}</td>
        </tr>
      </table>
      {% endfor %}
    </div>

    <h2>Class: Hunter</h2>
    <div class="cards2">
      {% for stat in class_stats %}
      <table>
        <tr>
          <td>{{stat.stat}}:</td>
          <td class="{{stat.stat}}">{{stat.value}}</td>
        </tr>
      </table>
      {% endfor %}
    </div>

    <h2>Background: Prize Shot</h2>
    <div class="cards2">
      {% for stat in background_stats %}
      <table>
        <tr>
          <td>{{stat.stat}}:</td>
          <td class="{{stat.stat}}">{{stat.value}}</td>
        </tr>
      </table>
      {% endfor %}
    </div>

    <h2>Skill Tree</h2>
    <div class="cards3">
      {% for skill in skill_tree %}
      <table>
        <tr>
          <td colspan="2">
            {{skill.name}}
          </td>
        </tr>
        {% for stat in skill.stats %}
        <tr>
          <td>{{stat.stat}}</td>
          <td class="{{stat.stat }}">{{stat.value}}</td>
        </tr>
        {% endfor %}
      </table>
      {% endfor %}
    </div>

    <h2>Action Skill</h2>
    <div>{{action_skill.name}}</div>
    <div>TODO: Add tickmarks for single use in combat and number per day equaly to mastery mod</div>

    <h2>Favored Gun</h2>
    <div id="Favored_Gun_Type">{{favored_gun_type.type}}</div>

    <h2>Melee Die</h2>
    <div>1D4</div>

    <h2>Traits</h2>
    <div>Insider: +5 Guild Sneak Checks</div>
    <div>Looter: +5 Loot Search Checks</div>

    <table>
      <tr>
        <td>Shield Type:</td>
        <td>{{shields.type}}</td>
      </tr>
      <tr>
        <td>Shield Info:</td>
        <td>{{shields.info}}</td>
      </tr>
    </table>

  </main>

</body>

</html>
